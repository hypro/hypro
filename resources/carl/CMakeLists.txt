project(CArL-config-EP)
cmake_minimum_required(VERSION 3.3)

include(ExternalProject)
set_directory_properties(PROPERTIES EP_PREFIX ${TARGETDIR})

set(CMAKE_OPTIONS -DBUILD_DOXYGEN=OFF -DBUILD_STATIC=ON -DBOOST_INCLUDEDIR=${BOOST_INCLUDEDIR} -DUSE_BLISS=ON -DUSE_COCOA=ON -DEXPORT_TO_CMAKE=ON)

ExternalProject_Add(
        CArL-EP-download
        SOURCE_DIR ${TARGETDIR}/src/CArL-EP
        BINARY_DIR ${TARGETDIR}/src/CArL-EP-build
        GIT_TAG 19.10
        GIT_REPOSITORY https://github.com/smtrat/carl
        CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=<INSTALL_DIR> -DCMAKE_PREFIX_PATH=<INSTALL_DIR> ${CMAKE_OPTIONS}
        BUILD_COMMAND ${CMAKE_MAKE_PROGRAM} carl
        INSTALL_COMMAND ""
)
